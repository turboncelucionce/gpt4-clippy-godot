# GPT-4 (or 3.5)-Powered Clippy

## Overview

This is a little godot project that makes Microsoft Clippy appear on your desktop. His responses are fully generated by GPT-3.5 or 4.  Current features:

- You can talk to Clippy directly using your microphone. The audio is automatically transcribed using OpenAI's Whisper API.
- Clippy can talk realistically using any voice you want by providing an ElevenLabs API key and your character voices.
- Clippy reacts to the user's input, like the user hovering their mouse over him, sending blank messages, being ignored for long periods of time, or clicking on him repeatedly. In the code, these are referred to as "nonverbal" actions.
- Clippy can memorize things between conversations.
- Clippy can be dragged across the screen and set to be Always On Top. 


## Requirements

For Clippy to function, you need to have an [OpenAI API Key](https://platform.openai.com/account/api-keys). To enable GPT-4 instead of GPT-3.5, you need to have been accepted into the [GPT-4 waitlist](https://openai.com/waitlist/gpt-4-api). **Be careful, GPT-4 usage costs a lot more than GPT-3.5** and shows little noticeable improvement in this use case. I recommend sticking to GPT-3.5 most of the time.

The projet was made on **Godot V3.5.1.stable.official**. It may work on other versions.

You also need to make an account on ElevenLabs and get an API key if you want Clippy to be able to speak.

### How to setup:

- Open the project in Godot
- Navigate to the root node "**ClippyScene**". In the inspector, paste your OpenAI API Key into the "**Open Ai Key**" slot. Make sure "**Enable Open Ai**" is enabled.  
- Navigate to the **RecordButton** node. In the inspector, paste your OpenAI API Key into the "**Openai Api Key**" slot.
- Navigate to the **ElevenLabsHandler** node.
	- If you want to disable ElevenLabs, just uncheck "**Enable Eleven Labs**"
	- If you want to enable ElevenLabs, paste your API key in the Inspector, and paste in the ElevenLabs "voice keys" to that node's script (line 14, 16, 18...). This allows you to quickly change the voice if you've setup multiple characters on your account.
- Save and run the scene! Clippy should work.

## TODO

This was my first time coding something. The code is extremely messy. It's also missing a lot of stuff.

- Add any king of error handling whatsoever when sending HTTP requests. Clippy sometimes randomly crashes or hangs
- Make it so that the user doesn't have to input the API keys in the code. **This makes sharing the complied .exe extremely unsafe.**
- Add sounds
- Add more "nonverbal" actions that Clippy detects and reacts to (like being dragged around a lot, or checking processes being launched on the computer, reacting if the user is playing games, make Clippy react if he's placed close to the recycle bin, etc)
- Setup an idle animation system
- Import all of the anims from the sprite sheet
- Fix the record button (it doesn't work on export?)
